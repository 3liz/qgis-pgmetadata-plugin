{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"PgMetadata # Short introduction # It's a QGIS plugin to store some metadata for PostgreSQL layers inside a PostgreSQL database \ud83d\udc18. Metadata for a PostgreSQL table includes : a title an abstract keywords categories and themes spatial properties such as extent, feature count, projection, scales 0 or many contacts with a role 0 or many links \u2026 Some key features for final users : a locator to easy search and add layers a dock to display metadata Export a single sheet to PDF, HTML DCAT Export the full catalog Some features for the GIS administrator : A QGIS project designed to manage the metadata. Some views are included to detect some orphaned tables. Customization of the HTML template To help, there are some videos tutorials . Description # PgMetadata is made for people using QGIS as their main GIS application, and PostgreSQL \ud83d\udc18 as their main vector data storage. The metadata of layers are stored inside your PostgreSQL database, in a dedicated schema. Classical fields are supported, such as the title , description , categories , themes , links , and the spatial properties of your data: extent , projection , etc. PgMetadata is not designed as a catalog application which lets you search among datasets and then download the data. It is designed to ease the use of the metadata inside QGIS , allowing to search for a data and open the corresponding layer, or to view the metadata of the already loaded PostgreSQL layers. By storing the metadata of the vector tables inside the database: QGIS can read the metadata easily by using the layer PostgreSQL connection: a dock shows the metadata for the active layer when the plugin detects metadata exists for this QGIS layer. QGIS can run SQL queries: you can use the QGIS locator search bar to search for a layer, and load it easily in your project. The administrator in charge of editing the metadata will also benefit from the PostgreSQL storage: PostgreSQL/PostGIS functions are used to automatically update some fields based on the table data (the layer extent, geometry type, feature count, projection, etc.). The metadata is saved with your data anytime you backup the database. You do not need to share XML files across the network or install a new catalog application to manage your metadata and allow the users to get it. Only PostgreSQL is needed. The plugin contains some processing algorithms to help the administrator. For example: a script helps to create or update the needed pgmetadata PostgreSQL schema and tables in your database. a algorithm creates a QGIS project suitable for the metadata editing. This project uses the power of QGIS to create a rich user interface allowing to edit your metadata easily (forms, relations). Why use another interface when QGIS rocks ? More PgMetadata features: Modification of the HTML template to tune the displayed metadata Export a metadata sheet to PDF, HTML or DCAT Publish the metadata as a DCAT catalog with the Lizmap Web Client module for PgMetadata . It can then be harvested by external applications (Geonetwork, CKAN) The data model is very close to the QGIS metadata storage and the DCAT vocabulary for compatibility.","title":"Home"},{"location":"#pgmetadata","text":"","title":"PgMetadata"},{"location":"#short-introduction","text":"It's a QGIS plugin to store some metadata for PostgreSQL layers inside a PostgreSQL database \ud83d\udc18. Metadata for a PostgreSQL table includes : a title an abstract keywords categories and themes spatial properties such as extent, feature count, projection, scales 0 or many contacts with a role 0 or many links \u2026 Some key features for final users : a locator to easy search and add layers a dock to display metadata Export a single sheet to PDF, HTML DCAT Export the full catalog Some features for the GIS administrator : A QGIS project designed to manage the metadata. Some views are included to detect some orphaned tables. Customization of the HTML template To help, there are some videos tutorials .","title":"Short introduction"},{"location":"#description","text":"PgMetadata is made for people using QGIS as their main GIS application, and PostgreSQL \ud83d\udc18 as their main vector data storage. The metadata of layers are stored inside your PostgreSQL database, in a dedicated schema. Classical fields are supported, such as the title , description , categories , themes , links , and the spatial properties of your data: extent , projection , etc. PgMetadata is not designed as a catalog application which lets you search among datasets and then download the data. It is designed to ease the use of the metadata inside QGIS , allowing to search for a data and open the corresponding layer, or to view the metadata of the already loaded PostgreSQL layers. By storing the metadata of the vector tables inside the database: QGIS can read the metadata easily by using the layer PostgreSQL connection: a dock shows the metadata for the active layer when the plugin detects metadata exists for this QGIS layer. QGIS can run SQL queries: you can use the QGIS locator search bar to search for a layer, and load it easily in your project. The administrator in charge of editing the metadata will also benefit from the PostgreSQL storage: PostgreSQL/PostGIS functions are used to automatically update some fields based on the table data (the layer extent, geometry type, feature count, projection, etc.). The metadata is saved with your data anytime you backup the database. You do not need to share XML files across the network or install a new catalog application to manage your metadata and allow the users to get it. Only PostgreSQL is needed. The plugin contains some processing algorithms to help the administrator. For example: a script helps to create or update the needed pgmetadata PostgreSQL schema and tables in your database. a algorithm creates a QGIS project suitable for the metadata editing. This project uses the power of QGIS to create a rich user interface allowing to edit your metadata easily (forms, relations). Why use another interface when QGIS rocks ? More PgMetadata features: Modification of the HTML template to tune the displayed metadata Export a metadata sheet to PDF, HTML or DCAT Publish the metadata as a DCAT catalog with the Lizmap Web Client module for PgMetadata . It can then be harvested by external applications (Geonetwork, CKAN) The data model is very close to the QGIS metadata storage and the DCAT vocabulary for compatibility.","title":"Description"},{"location":"CHANGELOG/","text":"Changelog # Unreleased # Add support for PostgreSQL views (contribution from @tschuettenberg QGIS Germany) Add translations from Transifex for the German language (contribution from Florian Jenn) 1.0.0 - 2021-05-27 # Add links to the file browser after exporting to PDF, HTML or XML Fix an issue when loading a layer from the locator bar, the style wasn't loaded before Update documentation https://docs.3liz.org/qgis-pgmetadata-plugin/ Release on https://plugins.qgis.org 0.5.0 - 2021-02-19 # Review the full online documentation using a proper website Add a link to the plugin online help in the QGIS help menu Add a button to open the dock from the QGIS plugin menu Add a layer flattening the \"dataset\" table containing all links and contacts, easier to export all the catalog Improve the deployment of the plugin within an organization to hide and setup some tools in PgMetadata 0.4.0 - 2021-01-21 # Improve documentation user guide and schemaspy Save a metadata sheet as DCAT XML Add localized glossary labels and description : it, fr, es, de Display the translated HTML in the dock when available Add data_last_update in the HTML template Add some layers in the QGIS administration project 0.3.0 - 2020-12-14 # Update online documentation Add export as PDF/HTML button in the dock 0.2.2 - 2020-11-17 # Fix locator SQL query Add themes Update of the QGIS project 0.2.1 - 2020-11-16 # Improve HTML templates for making them compatible with Lizmap SQL - Fix calculate a spatial field with Z or M geometries SQL - Fix HTML generation for fields email and size Processing - Fix upgrade algorithm and add tests Fix bug with empty links when link has no mime or type - fixes #34 SQL - Fix if the envelope is a point, or a line SQL - Add a view to query only valid dataset with the locator Fix running migrations in the Processing algorithm 0.2.0 - 2020-11-12 # Auto vacuum tables after install/upgrade of the database Add an option to auto open the dock from the locator Add a new field data_last_update Add an algorithm to set database connections for normal users Review default HTML templates Fix filter for QGS files in Processing 0.1.0 - 2020-11-03 # Automatically compute values from the table itself : feature count, CRS etc Improve QGIS form Improve the dock to display HTML metadata Use HTML templates stored in the database Display the layer geometry in the locator Add a flag to disable Processing algorithm if needed for non admin user 0.0.3 - 2020-10-20 # Add a dock displaying basic metadata information Fix file filter about QGS file selector Improve error reporting from the locator 0.0.2 - 2020-10-15 # Add French language 0.0.1 - 2020-10-14 # Provide a basic locator for adding layers Install the database schema Provide a QGIS project to edit the metadata","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"","title":"Changelog"},{"location":"CHANGELOG/#unreleased","text":"Add support for PostgreSQL views (contribution from @tschuettenberg QGIS Germany) Add translations from Transifex for the German language (contribution from Florian Jenn)","title":"Unreleased"},{"location":"CHANGELOG/#100-2021-05-27","text":"Add links to the file browser after exporting to PDF, HTML or XML Fix an issue when loading a layer from the locator bar, the style wasn't loaded before Update documentation https://docs.3liz.org/qgis-pgmetadata-plugin/ Release on https://plugins.qgis.org","title":"1.0.0 - 2021-05-27"},{"location":"CHANGELOG/#050-2021-02-19","text":"Review the full online documentation using a proper website Add a link to the plugin online help in the QGIS help menu Add a button to open the dock from the QGIS plugin menu Add a layer flattening the \"dataset\" table containing all links and contacts, easier to export all the catalog Improve the deployment of the plugin within an organization to hide and setup some tools in PgMetadata","title":"0.5.0 - 2021-02-19"},{"location":"CHANGELOG/#040-2021-01-21","text":"Improve documentation user guide and schemaspy Save a metadata sheet as DCAT XML Add localized glossary labels and description : it, fr, es, de Display the translated HTML in the dock when available Add data_last_update in the HTML template Add some layers in the QGIS administration project","title":"0.4.0 - 2021-01-21"},{"location":"CHANGELOG/#030-2020-12-14","text":"Update online documentation Add export as PDF/HTML button in the dock","title":"0.3.0 - 2020-12-14"},{"location":"CHANGELOG/#022-2020-11-17","text":"Fix locator SQL query Add themes Update of the QGIS project","title":"0.2.2 - 2020-11-17"},{"location":"CHANGELOG/#021-2020-11-16","text":"Improve HTML templates for making them compatible with Lizmap SQL - Fix calculate a spatial field with Z or M geometries SQL - Fix HTML generation for fields email and size Processing - Fix upgrade algorithm and add tests Fix bug with empty links when link has no mime or type - fixes #34 SQL - Fix if the envelope is a point, or a line SQL - Add a view to query only valid dataset with the locator Fix running migrations in the Processing algorithm","title":"0.2.1 - 2020-11-16"},{"location":"CHANGELOG/#020-2020-11-12","text":"Auto vacuum tables after install/upgrade of the database Add an option to auto open the dock from the locator Add a new field data_last_update Add an algorithm to set database connections for normal users Review default HTML templates Fix filter for QGS files in Processing","title":"0.2.0 - 2020-11-12"},{"location":"CHANGELOG/#010-2020-11-03","text":"Automatically compute values from the table itself : feature count, CRS etc Improve QGIS form Improve the dock to display HTML metadata Use HTML templates stored in the database Display the layer geometry in the locator Add a flag to disable Processing algorithm if needed for non admin user","title":"0.1.0 - 2020-11-03"},{"location":"CHANGELOG/#003-2020-10-20","text":"Add a dock displaying basic metadata information Fix file filter about QGS file selector Improve error reporting from the locator","title":"0.0.3 - 2020-10-20"},{"location":"CHANGELOG/#002-2020-10-15","text":"Add French language","title":"0.0.2 - 2020-10-15"},{"location":"CHANGELOG/#001-2020-10-14","text":"Provide a basic locator for adding layers Install the database schema Provide a QGIS project to edit the metadata","title":"0.0.1 - 2020-10-14"},{"location":"CONTRIBUTING/","text":"Contributing # This project is hosted on GitHub. Visit GitHub Translation # The UI is available on Transifex , no development knowledge is required. You need to create an account, request the language if your language is not available by default (we will happily accept) and start to translate strings. To translate the metadata glossary, the SQL file needs to be edited. You can submit a PR on GitHub or feel free to contact us for any assistance. There are some languages available already. Code # SQL and Python are covered by unittests with Docker. 1 2 3 4 pip install -r requirements/dev.txt flake8 make tests make test_migration On a new database, if you want to install the database by using migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] = '0.0.1' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] # Disable Documentation # The documentation is using MkDocs with Material . 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Contributing"},{"location":"CONTRIBUTING/#contributing","text":"This project is hosted on GitHub. Visit GitHub","title":"Contributing"},{"location":"CONTRIBUTING/#translation","text":"The UI is available on Transifex , no development knowledge is required. You need to create an account, request the language if your language is not available by default (we will happily accept) and start to translate strings. To translate the metadata glossary, the SQL file needs to be edited. You can submit a PR on GitHub or feel free to contact us for any assistance. There are some languages available already.","title":"Translation"},{"location":"CONTRIBUTING/#code","text":"SQL and Python are covered by unittests with Docker. 1 2 3 4 pip install -r requirements/dev.txt flake8 make tests make test_migration On a new database, if you want to install the database by using migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] = '0.0.1' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] # Disable","title":"Code"},{"location":"CONTRIBUTING/#documentation","text":"The documentation is using MkDocs with Material . 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"changelog/","text":"Changelog # Unreleased # Add support for PostgreSQL views (contribution from @tschuettenberg QGIS Germany) Add translations from Transifex for the German language (contribution from Florian Jenn) 1.0.0 - 2021-05-27 # Add links to the file browser after exporting to PDF, HTML or XML Fix an issue when loading a layer from the locator bar, the style wasn't loaded before Update documentation https://docs.3liz.org/qgis-pgmetadata-plugin/ Release on https://plugins.qgis.org 0.5.0 - 2021-02-19 # Review the full online documentation using a proper website Add a link to the plugin online help in the QGIS help menu Add a button to open the dock from the QGIS plugin menu Add a layer flattening the \"dataset\" table containing all links and contacts, easier to export all the catalog Improve the deployment of the plugin within an organization to hide and setup some tools in PgMetadata 0.4.0 - 2021-01-21 # Improve documentation user guide and schemaspy Save a metadata sheet as DCAT XML Add localized glossary labels and description : it, fr, es, de Display the translated HTML in the dock when available Add data_last_update in the HTML template Add some layers in the QGIS administration project 0.3.0 - 2020-12-14 # Update online documentation Add export as PDF/HTML button in the dock 0.2.2 - 2020-11-17 # Fix locator SQL query Add themes Update of the QGIS project 0.2.1 - 2020-11-16 # Improve HTML templates for making them compatible with Lizmap SQL - Fix calculate a spatial field with Z or M geometries SQL - Fix HTML generation for fields email and size Processing - Fix upgrade algorithm and add tests Fix bug with empty links when link has no mime or type - fixes #34 SQL - Fix if the envelope is a point, or a line SQL - Add a view to query only valid dataset with the locator Fix running migrations in the Processing algorithm 0.2.0 - 2020-11-12 # Auto vacuum tables after install/upgrade of the database Add an option to auto open the dock from the locator Add a new field data_last_update Add an algorithm to set database connections for normal users Review default HTML templates Fix filter for QGS files in Processing 0.1.0 - 2020-11-03 # Automatically compute values from the table itself : feature count, CRS etc Improve QGIS form Improve the dock to display HTML metadata Use HTML templates stored in the database Display the layer geometry in the locator Add a flag to disable Processing algorithm if needed for non admin user 0.0.3 - 2020-10-20 # Add a dock displaying basic metadata information Fix file filter about QGS file selector Improve error reporting from the locator 0.0.2 - 2020-10-15 # Add French language 0.0.1 - 2020-10-14 # Provide a basic locator for adding layers Install the database schema Provide a QGIS project to edit the metadata","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#unreleased","text":"Add support for PostgreSQL views (contribution from @tschuettenberg QGIS Germany) Add translations from Transifex for the German language (contribution from Florian Jenn)","title":"Unreleased"},{"location":"changelog/#100-2021-05-27","text":"Add links to the file browser after exporting to PDF, HTML or XML Fix an issue when loading a layer from the locator bar, the style wasn't loaded before Update documentation https://docs.3liz.org/qgis-pgmetadata-plugin/ Release on https://plugins.qgis.org","title":"1.0.0 - 2021-05-27"},{"location":"changelog/#050-2021-02-19","text":"Review the full online documentation using a proper website Add a link to the plugin online help in the QGIS help menu Add a button to open the dock from the QGIS plugin menu Add a layer flattening the \"dataset\" table containing all links and contacts, easier to export all the catalog Improve the deployment of the plugin within an organization to hide and setup some tools in PgMetadata","title":"0.5.0 - 2021-02-19"},{"location":"changelog/#040-2021-01-21","text":"Improve documentation user guide and schemaspy Save a metadata sheet as DCAT XML Add localized glossary labels and description : it, fr, es, de Display the translated HTML in the dock when available Add data_last_update in the HTML template Add some layers in the QGIS administration project","title":"0.4.0 - 2021-01-21"},{"location":"changelog/#030-2020-12-14","text":"Update online documentation Add export as PDF/HTML button in the dock","title":"0.3.0 - 2020-12-14"},{"location":"changelog/#022-2020-11-17","text":"Fix locator SQL query Add themes Update of the QGIS project","title":"0.2.2 - 2020-11-17"},{"location":"changelog/#021-2020-11-16","text":"Improve HTML templates for making them compatible with Lizmap SQL - Fix calculate a spatial field with Z or M geometries SQL - Fix HTML generation for fields email and size Processing - Fix upgrade algorithm and add tests Fix bug with empty links when link has no mime or type - fixes #34 SQL - Fix if the envelope is a point, or a line SQL - Add a view to query only valid dataset with the locator Fix running migrations in the Processing algorithm","title":"0.2.1 - 2020-11-16"},{"location":"changelog/#020-2020-11-12","text":"Auto vacuum tables after install/upgrade of the database Add an option to auto open the dock from the locator Add a new field data_last_update Add an algorithm to set database connections for normal users Review default HTML templates Fix filter for QGS files in Processing","title":"0.2.0 - 2020-11-12"},{"location":"changelog/#010-2020-11-03","text":"Automatically compute values from the table itself : feature count, CRS etc Improve QGIS form Improve the dock to display HTML metadata Use HTML templates stored in the database Display the layer geometry in the locator Add a flag to disable Processing algorithm if needed for non admin user","title":"0.1.0 - 2020-11-03"},{"location":"changelog/#003-2020-10-20","text":"Add a dock displaying basic metadata information Fix file filter about QGS file selector Improve error reporting from the locator","title":"0.0.3 - 2020-10-20"},{"location":"changelog/#002-2020-10-15","text":"Add French language","title":"0.0.2 - 2020-10-15"},{"location":"changelog/#001-2020-10-14","text":"Provide a basic locator for adding layers Install the database schema Provide a QGIS project to edit the metadata","title":"0.0.1 - 2020-10-14"},{"location":"contributing/","text":"Contributing # This project is hosted on GitHub. Visit GitHub Translation # The UI is available on Transifex , no development knowledge is required. You need to create an account, request the language if your language is not available by default (we will happily accept) and start to translate strings. To translate the metadata glossary, the SQL file needs to be edited. You can submit a PR on GitHub or feel free to contact us for any assistance. There are some languages available already. Code # SQL and Python are covered by unittests with Docker. 1 2 3 4 pip install -r requirements/dev.txt flake8 make tests make test_migration On a new database, if you want to install the database by using migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] = '0.0.1' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] # Disable Documentation # The documentation is using MkDocs with Material . 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Contributing"},{"location":"contributing/#contributing","text":"This project is hosted on GitHub. Visit GitHub","title":"Contributing"},{"location":"contributing/#translation","text":"The UI is available on Transifex , no development knowledge is required. You need to create an account, request the language if your language is not available by default (we will happily accept) and start to translate strings. To translate the metadata glossary, the SQL file needs to be edited. You can submit a PR on GitHub or feel free to contact us for any assistance. There are some languages available already.","title":"Translation"},{"location":"contributing/#code","text":"SQL and Python are covered by unittests with Docker. 1 2 3 4 pip install -r requirements/dev.txt flake8 make tests make test_migration On a new database, if you want to install the database by using migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] = '0.0.1' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_PGMETADATA' ] # Disable","title":"Code"},{"location":"contributing/#documentation","text":"The documentation is using MkDocs with Material . 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"lizmap/","text":"Lizmap Web Client # The metadata can be displayed in the QGIS Lizmap Web Client using the PgMetadata module . The module is also providing a DCAT catalog, ready to be harvested \ud83d\ude80.","title":"Lizmap"},{"location":"lizmap/#lizmap-web-client","text":"The metadata can be displayed in the QGIS Lizmap Web Client using the PgMetadata module . The module is also providing a DCAT catalog, ready to be harvested \ud83d\ude80.","title":"Lizmap Web Client"},{"location":"references/","text":"References # Exemple # Gard province in France # The French Gard province is using this project on their Lizmap Web Client instance to display the metadata, and the catalog is harvested by the French Open Data portal data.gouv.fr . As a consequence, the province has its own page on the national portal showing the same metadata. Lydia Courret, administratrice SIG au d\u00e9partement du Gard, in French \ud83c\uddeb\ud83c\uddf7 Le D\u00e9partement du Gard disposait en interne d\u2019un recensement des m\u00e9tadonn\u00e9es de l\u2019ensemble des couches vecteurs de la base PostgreSQL sur Excel. En externe, une trentaine de couches \u00e9taient catalogu\u00e9es sur la plateforme r\u00e9gionale d\u2019OpenIG. Dans le portail de cartes Lizmap du d\u00e9partement ( https://sig.gard.fr/ ), certaines informations li\u00e9es aux m\u00e9tadonn\u00e9es \u00e9taient saisies et publi\u00e9es dans la description de chacune des couches. Il n\u2019y avait pas de liens entre ces diff\u00e9rentes briques. L\u2019enjeu \u00e9tait de proposer un catalogue interop\u00e9rable entre les diff\u00e9rentes briques de la plateforme au d\u00e9partement du Gard : Postgres / QGIS / Lizmap en \u00e9vitant les doubles saisies de m\u00e9tadonn\u00e9es : un catalogue accessible depuis QGIS pour les agents d\u00e9partementaux, accessible depuis les cartes dynamiques Lizmap et moissonnable. 3Liz par l\u2019interm\u00e9diaire du d\u00e9veloppement d\u2019une extension, PgMetadata, a r\u00e9pondu aux attentes du D\u00e9partement du Gard. Pour l\u2019administrateur SIG, cette extension permet de stocker toutes les m\u00e9tadonn\u00e9es des couches vecteurs dans 4 tables postgres. Un simple projet d\u2019administration QGIS permet via des formulaires une saisie facilit\u00e9e des m\u00e9tadonn\u00e9es, une partie des champs \u00e9tant aliment\u00e9e automatiquement. Les utilisateurs de QGIS quant \u00e0 eux, trouvent et chargent une donn\u00e9e dans leurs projets en saisissant un simple mot cl\u00e9 dans le gestionnaire de source de donn\u00e9es postgreSQL ou via le Locator de QGIS. Un panneau de m\u00e9tadonn\u00e9es est visible pour chacune des couches int\u00e9gr\u00e9es au projet. Cette recherche et cette consultation des m\u00e9tadonn\u00e9es s\u2019int\u00e8grent parfaitement au projet QGIS et permettent aux utilisateurs de prendre connaissance des caract\u00e9ristiques de chaque couche charg\u00e9e dans le projet. Ces m\u00eames fiches de m\u00e9tadonn\u00e9es sont consultables \u00e9galement sur le portail de cartes web du d\u00e9partement. Ainsi, les citoyens acc\u00e8dent aussi \u00e0 ces fiches. Enfin, l\u2019objectif est d\u2019int\u00e9grer ces m\u00e9tadonn\u00e9es pour les donn\u00e9es ouvertes sur le portail de la r\u00e9gion OPenIG via un export DCAT. Cette extension PgMetadata a l\u2019avantage d\u2019\u00eatre simple d\u2019utilisation que ce soit pour les administrateurs, les utilisateurs de QGIS. Elle permet d\u2019ouvrir les m\u00e9tadonn\u00e9es sur l\u2019ext\u00e9rieur via le portail de cartes dynamiques ou via des plateformes d\u00e9di\u00e9es \u00e0 l\u2019ouverture des geodatas et des m\u00e9tadonn\u00e9es attenantes. Cette extension PgMetadata est donc avant tout au service des administrateurs et des utilisateurs de QGIS et de par la publication des fiches de m\u00e9tadonn\u00e9es sur l\u2019ext\u00e9rieur au service des citoyens. Thanks to the French Gard province for funding this project. Conference # QGIS-French day # A presentation in French at the QGIS-Day in December 2020 :","title":"References"},{"location":"references/#references","text":"","title":"References"},{"location":"references/#exemple","text":"","title":"Exemple"},{"location":"references/#gard-province-in-france","text":"The French Gard province is using this project on their Lizmap Web Client instance to display the metadata, and the catalog is harvested by the French Open Data portal data.gouv.fr . As a consequence, the province has its own page on the national portal showing the same metadata. Lydia Courret, administratrice SIG au d\u00e9partement du Gard, in French \ud83c\uddeb\ud83c\uddf7 Le D\u00e9partement du Gard disposait en interne d\u2019un recensement des m\u00e9tadonn\u00e9es de l\u2019ensemble des couches vecteurs de la base PostgreSQL sur Excel. En externe, une trentaine de couches \u00e9taient catalogu\u00e9es sur la plateforme r\u00e9gionale d\u2019OpenIG. Dans le portail de cartes Lizmap du d\u00e9partement ( https://sig.gard.fr/ ), certaines informations li\u00e9es aux m\u00e9tadonn\u00e9es \u00e9taient saisies et publi\u00e9es dans la description de chacune des couches. Il n\u2019y avait pas de liens entre ces diff\u00e9rentes briques. L\u2019enjeu \u00e9tait de proposer un catalogue interop\u00e9rable entre les diff\u00e9rentes briques de la plateforme au d\u00e9partement du Gard : Postgres / QGIS / Lizmap en \u00e9vitant les doubles saisies de m\u00e9tadonn\u00e9es : un catalogue accessible depuis QGIS pour les agents d\u00e9partementaux, accessible depuis les cartes dynamiques Lizmap et moissonnable. 3Liz par l\u2019interm\u00e9diaire du d\u00e9veloppement d\u2019une extension, PgMetadata, a r\u00e9pondu aux attentes du D\u00e9partement du Gard. Pour l\u2019administrateur SIG, cette extension permet de stocker toutes les m\u00e9tadonn\u00e9es des couches vecteurs dans 4 tables postgres. Un simple projet d\u2019administration QGIS permet via des formulaires une saisie facilit\u00e9e des m\u00e9tadonn\u00e9es, une partie des champs \u00e9tant aliment\u00e9e automatiquement. Les utilisateurs de QGIS quant \u00e0 eux, trouvent et chargent une donn\u00e9e dans leurs projets en saisissant un simple mot cl\u00e9 dans le gestionnaire de source de donn\u00e9es postgreSQL ou via le Locator de QGIS. Un panneau de m\u00e9tadonn\u00e9es est visible pour chacune des couches int\u00e9gr\u00e9es au projet. Cette recherche et cette consultation des m\u00e9tadonn\u00e9es s\u2019int\u00e8grent parfaitement au projet QGIS et permettent aux utilisateurs de prendre connaissance des caract\u00e9ristiques de chaque couche charg\u00e9e dans le projet. Ces m\u00eames fiches de m\u00e9tadonn\u00e9es sont consultables \u00e9galement sur le portail de cartes web du d\u00e9partement. Ainsi, les citoyens acc\u00e8dent aussi \u00e0 ces fiches. Enfin, l\u2019objectif est d\u2019int\u00e9grer ces m\u00e9tadonn\u00e9es pour les donn\u00e9es ouvertes sur le portail de la r\u00e9gion OPenIG via un export DCAT. Cette extension PgMetadata a l\u2019avantage d\u2019\u00eatre simple d\u2019utilisation que ce soit pour les administrateurs, les utilisateurs de QGIS. Elle permet d\u2019ouvrir les m\u00e9tadonn\u00e9es sur l\u2019ext\u00e9rieur via le portail de cartes dynamiques ou via des plateformes d\u00e9di\u00e9es \u00e0 l\u2019ouverture des geodatas et des m\u00e9tadonn\u00e9es attenantes. Cette extension PgMetadata est donc avant tout au service des administrateurs et des utilisateurs de QGIS et de par la publication des fiches de m\u00e9tadonn\u00e9es sur l\u2019ext\u00e9rieur au service des citoyens. Thanks to the French Gard province for funding this project.","title":"Gard province in France"},{"location":"references/#conference","text":"","title":"Conference"},{"location":"references/#qgis-french-day","text":"A presentation in French at the QGIS-Day in December 2020 :","title":"QGIS-French day"},{"location":"roadmap/","text":"Roadmap # We have a few ideas how we can improve PgMetadata : Export to spreadsheet format Inspire Translation Support views or raster stored in PostgreSQL Support remote database More integration with the QGIS native metadata editor Feel free to contact us by mail or discussion the GitHub issue tracker .","title":"Roadmap"},{"location":"roadmap/#roadmap","text":"We have a few ideas how we can improve PgMetadata : Export to spreadsheet format Inspire Translation Support views or raster stored in PostgreSQL Support remote database More integration with the QGIS native metadata editor Feel free to contact us by mail or discussion the GitHub issue tracker .","title":"Roadmap"},{"location":"processing/","text":"Processing # Administration # Create metadata administration project # This algorithm will create a new QGIS project file for PgMetadata administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities. CONNECTION_NAME : The database where the schema 'pgmetadata' is installed. PROJECT_FILE : The destination file where to create the QGIS project. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' is installed. \u2713 PROJECT_FILE QGIS project file to create FileDestination The destination file where to create the QGIS project. \u2713 Outputs # ID Description Type Info PROJECT_FILE QGIS project file to create File Set connections to databases # This algorithm will enable different databases where to look for metadata. DATABASES : PgMetadata can be installed on different databases. Parameters # ID Description Type Info Required Advanced Option DATABASES List of databases to look for metadata Enum PgMetadata can be installed on different databases. \u2713 Values: Outputs # ID Description Type Info No output Database # Installation of the database structure # When you are running the plugin for the first time on a new database, you need to install the database schema. It will erase and/or create the schema 'pgmetadata'. CONNECTION_NAME : The database where the schema 'pgmetadata' will be installed. OVERRIDE : Be careful This will remove data in the schema ! Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' will be installed. \u2713 OVERRIDE Erase the schema pgmetadata ? Boolean Be careful This will remove data in the schema ! \u2713 Outputs # ID Description Type Info DATABASE_VERSION Database version String Recompute values in the dataset table # Recalculate spatial related fields for all dataset item CONNECTION_NAME : The database where the schema 'pgmetadata' has been installed. RESET : Be careful This will recompute default values. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' has been installed. \u2713 RESET Recompute values in the dataset table Boolean Be careful This will recompute default values. \u2713 Outputs # ID Description Type Info No output Reset HTML templates in the database # Reset HTML templates in the database CONNECTION_NAME : The database where the schema 'pgmetadata' has been installed. RESET : Be careful This will reset existing HTML templates ! Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' has been installed. \u2713 RESET Reset HTML templates Boolean Be careful This will reset existing HTML templates ! \u2713 Outputs # ID Description Type Info No output Upgrade the database structure # When the plugin is upgraded, a database upgrade may be available as well. The database migration must be applied as well on the existing database. CONNECTION_NAME : The database where the schema 'pgmetadata' is installed. RUN_MIGRATIONS : For security reason, we ask that you explicitly use this checkbox. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' is installed. \u2713 RUN_MIGRATIONS Use this checkbox to upgrade. Boolean For security reason, we ask that you explicitly use this checkbox. \u2713 Outputs # ID Description Type Info DATABASE_VERSION Database version String","title":"Processing"},{"location":"processing/#processing","text":"","title":"Processing"},{"location":"processing/#administration","text":"","title":"Administration"},{"location":"processing/#create-metadata-administration-project","text":"This algorithm will create a new QGIS project file for PgMetadata administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities. CONNECTION_NAME : The database where the schema 'pgmetadata' is installed. PROJECT_FILE : The destination file where to create the QGIS project.","title":"Create metadata administration project"},{"location":"processing/#parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' is installed. \u2713 PROJECT_FILE QGIS project file to create FileDestination The destination file where to create the QGIS project. \u2713","title":"Parameters"},{"location":"processing/#outputs","text":"ID Description Type Info PROJECT_FILE QGIS project file to create File","title":"Outputs"},{"location":"processing/#set-connections-to-databases","text":"This algorithm will enable different databases where to look for metadata. DATABASES : PgMetadata can be installed on different databases.","title":"Set connections to databases"},{"location":"processing/#parameters_1","text":"ID Description Type Info Required Advanced Option DATABASES List of databases to look for metadata Enum PgMetadata can be installed on different databases. \u2713 Values:","title":"Parameters"},{"location":"processing/#outputs_1","text":"ID Description Type Info No output","title":"Outputs"},{"location":"processing/#database","text":"","title":"Database"},{"location":"processing/#installation-of-the-database-structure","text":"When you are running the plugin for the first time on a new database, you need to install the database schema. It will erase and/or create the schema 'pgmetadata'. CONNECTION_NAME : The database where the schema 'pgmetadata' will be installed. OVERRIDE : Be careful This will remove data in the schema !","title":"Installation of the database structure"},{"location":"processing/#parameters_2","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' will be installed. \u2713 OVERRIDE Erase the schema pgmetadata ? Boolean Be careful This will remove data in the schema ! \u2713","title":"Parameters"},{"location":"processing/#outputs_2","text":"ID Description Type Info DATABASE_VERSION Database version String","title":"Outputs"},{"location":"processing/#recompute-values-in-the-dataset-table","text":"Recalculate spatial related fields for all dataset item CONNECTION_NAME : The database where the schema 'pgmetadata' has been installed. RESET : Be careful This will recompute default values.","title":"Recompute values in the dataset table"},{"location":"processing/#parameters_3","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' has been installed. \u2713 RESET Recompute values in the dataset table Boolean Be careful This will recompute default values. \u2713","title":"Parameters"},{"location":"processing/#outputs_3","text":"ID Description Type Info No output","title":"Outputs"},{"location":"processing/#reset-html-templates-in-the-database","text":"Reset HTML templates in the database CONNECTION_NAME : The database where the schema 'pgmetadata' has been installed. RESET : Be careful This will reset existing HTML templates !","title":"Reset HTML templates in the database"},{"location":"processing/#parameters_4","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' has been installed. \u2713 RESET Reset HTML templates Boolean Be careful This will reset existing HTML templates ! \u2713","title":"Parameters"},{"location":"processing/#outputs_4","text":"ID Description Type Info No output","title":"Outputs"},{"location":"processing/#upgrade-the-database-structure","text":"When the plugin is upgraded, a database upgrade may be available as well. The database migration must be applied as well on the existing database. CONNECTION_NAME : The database where the schema 'pgmetadata' is installed. RUN_MIGRATIONS : For security reason, we ask that you explicitly use this checkbox.","title":"Upgrade the database structure"},{"location":"processing/#parameters_5","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME Connection to the PostgreSQL database String The database where the schema 'pgmetadata' is installed. \u2713 RUN_MIGRATIONS Use this checkbox to upgrade. Boolean For security reason, we ask that you explicitly use this checkbox. \u2713","title":"Parameters"},{"location":"processing/#outputs_5","text":"ID Description Type Info DATABASE_VERSION Database version String","title":"Outputs"},{"location":"user-guide/","text":"User guide # This user guide has been split into 4 sections mainly : a quick start guide showing how to install and use PgMetadata for end users , such as GIS technician who are not editing metadata or managing the PostGIS database for GIS administrator who are maintaining the PostGIS database, creating new metadata for system administrator when PgMetadata is deployed within an organization for advanced users for using data from the database with SQL queries","title":"Index"},{"location":"user-guide/#user-guide","text":"This user guide has been split into 4 sections mainly : a quick start guide showing how to install and use PgMetadata for end users , such as GIS technician who are not editing metadata or managing the PostGIS database for GIS administrator who are maintaining the PostGIS database, creating new metadata for system administrator when PgMetadata is deployed within an organization for advanced users for using data from the database with SQL queries","title":"User guide"},{"location":"user-guide/advanced/","text":"Advanced # As described in the end user guide , it's possible to export a single dataset or the full catalog as XML DCAT or as HTML. All this logic is generated in the database itself. The QGIS PgMetadata dock or Lizmap Web Client are taking advantage of this to publish the DCAT catalog on the web, by calling the SQL query to generate the XML DCAT catalog on the database. If you are not using Lizmap to publish your QGIS projects on the web, you can easily write your own wrapper (using Flask or any other WEB framework) to call these SQL queries. To generate the HTML for a given dataset : 1 SELECT pgmetadata . get_dataset_item_html_content ( '{schema}' , '{table}' , '{locale}' ); To generate the DCAT XML for a one or many datasets : 1 2 3 4 SELECT dataset FROM pgmetadata . get_datasets_as_dcat_xml ( '{locale}' , '[{uuid}]' ); If you are building your own wrapper around PgMetadata to reuse DCAT catalog, feel free to contact us or to submit a PR with a reference to your source code \u2665","title":"Advanced"},{"location":"user-guide/advanced/#advanced","text":"As described in the end user guide , it's possible to export a single dataset or the full catalog as XML DCAT or as HTML. All this logic is generated in the database itself. The QGIS PgMetadata dock or Lizmap Web Client are taking advantage of this to publish the DCAT catalog on the web, by calling the SQL query to generate the XML DCAT catalog on the database. If you are not using Lizmap to publish your QGIS projects on the web, you can easily write your own wrapper (using Flask or any other WEB framework) to call these SQL queries. To generate the HTML for a given dataset : 1 SELECT pgmetadata . get_dataset_item_html_content ( '{schema}' , '{table}' , '{locale}' ); To generate the DCAT XML for a one or many datasets : 1 2 3 4 SELECT dataset FROM pgmetadata . get_datasets_as_dcat_xml ( '{locale}' , '[{uuid}]' ); If you are building your own wrapper around PgMetadata to reuse DCAT catalog, feel free to contact us or to submit a PR with a reference to your source code \u2665","title":"Advanced"},{"location":"user-guide/end-user/","text":"End user # Locator # Type Ctrl + K in QGIS to open the locator widget. You can start type meta then you should see layers in the list. Datasource manager # This works without the plugin installed on the computer. It's native in QGIS. Panel # The PgMetadata panel can be opened. If set, the layer metadata will be displayed according to the layer selected in the legend. Export a single metadata # To export a metadata sheet as PDF, HTML or DCAT, you need to select a layer in your layer tree saved in the metadata table dataset . Then in the dock you have a button to open the export menu and choose the output format. If no layer with metadata are selected, you can't click on the button of the export menu . Export the catalog # From the dock, it's possible to add a layer in the legend showing the full catalog. The main dataset table is flatten to show contacts and links as well. The user can export this non-spatial layer as CSV by right clicking on the layer then Export .","title":"End user"},{"location":"user-guide/end-user/#end-user","text":"","title":"End user"},{"location":"user-guide/end-user/#locator","text":"Type Ctrl + K in QGIS to open the locator widget. You can start type meta then you should see layers in the list.","title":"Locator"},{"location":"user-guide/end-user/#datasource-manager","text":"This works without the plugin installed on the computer. It's native in QGIS.","title":"Datasource manager"},{"location":"user-guide/end-user/#panel","text":"The PgMetadata panel can be opened. If set, the layer metadata will be displayed according to the layer selected in the legend.","title":"Panel"},{"location":"user-guide/end-user/#export-a-single-metadata","text":"To export a metadata sheet as PDF, HTML or DCAT, you need to select a layer in your layer tree saved in the metadata table dataset . Then in the dock you have a button to open the export menu and choose the output format. If no layer with metadata are selected, you can't click on the button of the export menu .","title":"Export a single metadata"},{"location":"user-guide/end-user/#export-the-catalog","text":"From the dock, it's possible to add a layer in the legend showing the full catalog. The main dataset table is flatten to show contacts and links as well. The user can export this non-spatial layer as CSV by right clicking on the layer then Export .","title":"Export the catalog"},{"location":"user-guide/gis-admin/","text":"GIS administrator # Installation # Database # The plugin is using a schema in PostgreSQL. If you just installed the plugin in a new organization, you must use the install database structure If the pgmetadata schema is already existing in your database, you may need to upgrade it after a plugin upgrade using the upgrade database structure Warning With the administration project , it's only possible to add metadata for tables which are stored in the same PostgreSQL database. For now, it's not possible to reference tables which are stored in another database. The use of the foreign schema might work but has not been tested yet. Administration project # The GIS administrator can generate a QGIS project using create metadata project . You need to open the generated project and use the normal QGIS editing tools. In the group called Information Warnings : Orphan metadata displays table not existing in the database itself, but the metadata exists in the dataset table. Orphan tables is the reverse. It displays tables existing in the database but in the dataset table. Editing metadata # Before creating metadata for your layer/table, you need to implement some table. To edit this table you need to open the attribute table, switch on Edition mode and add a new row. Switching to edit mode: Adding a new row: Switching to the form view: You can access the form view in the bottom right corner of the attribute table. On the Theme table you can add many theme corresponding to different theme of your layers. You need to enter a code e.g. \"A01\", and a label corresponding at the name e.g. \"Naturals area\". Example adding theme: On the Contact table you can add contacts that can later be associated with your metadata layer. Example new contact: The Dataset table is the metadata table. You can add many rows and one added line corresponds to a metadata of a layer. You need to fill a row with these minimum information : Table name, Schema name, Title, Abstract, Etc Example to add a new metadata for a layer: On the second picture you can see the theme. Now you can add a contact to a dataset row with the Dataset table. You can click on a tab called contact . You need to allow edit mode in this tab because you implement another table. Example: You can add some Link to a dataset row with the Dataset table. It's same that to add a contact, you have a link tab. Don't forget to allow edit mode . Example: When you stop editing a table, don't forget to save your change with clicking on the save icon et leave the edit mode. To save: To leave the edit mode you need to click on the same button that to enter the edit mode. HTML Template # Principle # The metadata panel is showing all information using HTML templates. These are stored in the database itself. The layer named html_template is displayed in the legend in the administration project. There are 3 rows in the table : One template for the metadata sheet without contacts and links. One template for a single link. One template for a single contact. These last two templates will be generated many times for each link and incorporated in the first template. Edit or translate these templates # You can customize the HTML template by opening the attribute table of that layer and switching editing mode. Either you might want to translate some hardcoded strings in the HTML or you want to change the HTML layout. Use [% \"name_of_field\" %] to display a specific field, eg abstract . use [% meta_contacts %] to display all contacts related. It's using the template called contact . use [% meta_links %] to display all links related. It's using the template called link . Tip If you want to reset to default the HTML templates, you can use the Processing algorithm in the toolbox . Tip Check the video tutorial at 13 minutes 05 secondes covering the HTML templates.","title":"GIS admin"},{"location":"user-guide/gis-admin/#gis-administrator","text":"","title":"GIS administrator"},{"location":"user-guide/gis-admin/#installation","text":"","title":"Installation"},{"location":"user-guide/gis-admin/#database","text":"The plugin is using a schema in PostgreSQL. If you just installed the plugin in a new organization, you must use the install database structure If the pgmetadata schema is already existing in your database, you may need to upgrade it after a plugin upgrade using the upgrade database structure Warning With the administration project , it's only possible to add metadata for tables which are stored in the same PostgreSQL database. For now, it's not possible to reference tables which are stored in another database. The use of the foreign schema might work but has not been tested yet.","title":"Database"},{"location":"user-guide/gis-admin/#administration-project","text":"The GIS administrator can generate a QGIS project using create metadata project . You need to open the generated project and use the normal QGIS editing tools. In the group called Information Warnings : Orphan metadata displays table not existing in the database itself, but the metadata exists in the dataset table. Orphan tables is the reverse. It displays tables existing in the database but in the dataset table.","title":"Administration project"},{"location":"user-guide/gis-admin/#editing-metadata","text":"Before creating metadata for your layer/table, you need to implement some table. To edit this table you need to open the attribute table, switch on Edition mode and add a new row. Switching to edit mode: Adding a new row: Switching to the form view: You can access the form view in the bottom right corner of the attribute table. On the Theme table you can add many theme corresponding to different theme of your layers. You need to enter a code e.g. \"A01\", and a label corresponding at the name e.g. \"Naturals area\". Example adding theme: On the Contact table you can add contacts that can later be associated with your metadata layer. Example new contact: The Dataset table is the metadata table. You can add many rows and one added line corresponds to a metadata of a layer. You need to fill a row with these minimum information : Table name, Schema name, Title, Abstract, Etc Example to add a new metadata for a layer: On the second picture you can see the theme. Now you can add a contact to a dataset row with the Dataset table. You can click on a tab called contact . You need to allow edit mode in this tab because you implement another table. Example: You can add some Link to a dataset row with the Dataset table. It's same that to add a contact, you have a link tab. Don't forget to allow edit mode . Example: When you stop editing a table, don't forget to save your change with clicking on the save icon et leave the edit mode. To save: To leave the edit mode you need to click on the same button that to enter the edit mode.","title":"Editing metadata"},{"location":"user-guide/gis-admin/#html-template","text":"","title":"HTML Template"},{"location":"user-guide/gis-admin/#principle","text":"The metadata panel is showing all information using HTML templates. These are stored in the database itself. The layer named html_template is displayed in the legend in the administration project. There are 3 rows in the table : One template for the metadata sheet without contacts and links. One template for a single link. One template for a single contact. These last two templates will be generated many times for each link and incorporated in the first template.","title":"Principle"},{"location":"user-guide/gis-admin/#edit-or-translate-these-templates","text":"You can customize the HTML template by opening the attribute table of that layer and switching editing mode. Either you might want to translate some hardcoded strings in the HTML or you want to change the HTML layout. Use [% \"name_of_field\" %] to display a specific field, eg abstract . use [% meta_contacts %] to display all contacts related. It's using the template called contact . use [% meta_links %] to display all links related. It's using the template called link . Tip If you want to reset to default the HTML templates, you can use the Processing algorithm in the toolbox . Tip Check the video tutorial at 13 minutes 05 secondes covering the HTML templates.","title":"Edit or translate these templates"},{"location":"user-guide/sys-admin/","text":"Sys admin # Deploying within an organization # When QGIS is deployed within an organization , the system administrator can hide administration Processing tools from normal users and also set the default path where PgMetadata is installed. Example of a QGIS3.ini file which activates the plugin automatically and set 3 connections where PgMetadata is installed : 1 2 3 4 5 6 7 [pgmetadata] auto_open_dock = true end_user_only = true connection_names = Connection 1;Connection 2;Connection 3 [Plugins] pg_metadata = true end_user_only is designed to hide Processing algorithms which are designed for PgMetadata administrator. connection_names is a list of connections separated by ; so PgMetadata knows where to look for metadata. The last section Plugins showed above is to automatically load the plugin if the plugin folder is installed by a deployment tool.","title":"Sys admin"},{"location":"user-guide/sys-admin/#sys-admin","text":"","title":"Sys admin"},{"location":"user-guide/sys-admin/#deploying-within-an-organization","text":"When QGIS is deployed within an organization , the system administrator can hide administration Processing tools from normal users and also set the default path where PgMetadata is installed. Example of a QGIS3.ini file which activates the plugin automatically and set 3 connections where PgMetadata is installed : 1 2 3 4 5 6 7 [pgmetadata] auto_open_dock = true end_user_only = true connection_names = Connection 1;Connection 2;Connection 3 [Plugins] pg_metadata = true end_user_only is designed to hide Processing algorithms which are designed for PgMetadata administrator. connection_names is a list of connections separated by ; so PgMetadata knows where to look for metadata. The last section Plugins showed above is to automatically load the plugin if the plugin folder is installed by a deployment tool.","title":"Deploying within an organization"},{"location":"user-guide/tutorials/","text":"Tutorials # Introduction # In these videos, we will cover how to set up and use PgMetadata, for both the GIS Administrator (installation of the database schema, create metadata\u2026) and the final user GIS technician (searching for a specific layer, exporting as HTML\u2026). We will use the geopackage file provided . In QGIS, Project \u27a1 Open From\u2026 \u27a1 Geopackage , there is a single project called project . This dataset is a subset of the Corsica island in France from OpenStreetMap . Info OpenStreetMap\u00ae is open data, licensed under the Open Data Commons Open Database License (ODbL) by the OpenStreetMap Foundation (OSMF). We must use the credit \"\u00a9 OpenStreetMap contributors\". https://www.openstreetmap.org/copyright/en Installation # In this video, we are explaining : the online documentation the database schema how to install and or upgrade the schema how to generate the QGIS project for metadata editing Edition # In this video, we are explaining how to edit metadata with the administration project : Contacts Links Metadata HTML templates Themes PostgreSQL views for orphan tables or orphan metadata sheets Search in the catalog from QGIS # In this video, we are explaining how to re-use the metadata in QGIS Desktop : Without the PgMetadata plugin with the QGIS data source manager With the plugin using the locator bar Exporting a single layer metadata as PDF, HTML or PDF Exporting the whole catalog Publish metadata on the web # In this video, we are explaining how to re-use the metadata outside of QGIS Desktop : With PgMetadata module for Lizmap Write your own wrapper to extract DCAT information","title":"Video tutorials"},{"location":"user-guide/tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"user-guide/tutorials/#introduction","text":"In these videos, we will cover how to set up and use PgMetadata, for both the GIS Administrator (installation of the database schema, create metadata\u2026) and the final user GIS technician (searching for a specific layer, exporting as HTML\u2026). We will use the geopackage file provided . In QGIS, Project \u27a1 Open From\u2026 \u27a1 Geopackage , there is a single project called project . This dataset is a subset of the Corsica island in France from OpenStreetMap . Info OpenStreetMap\u00ae is open data, licensed under the Open Data Commons Open Database License (ODbL) by the OpenStreetMap Foundation (OSMF). We must use the credit \"\u00a9 OpenStreetMap contributors\". https://www.openstreetmap.org/copyright/en","title":"Introduction"},{"location":"user-guide/tutorials/#installation","text":"In this video, we are explaining : the online documentation the database schema how to install and or upgrade the schema how to generate the QGIS project for metadata editing","title":"Installation"},{"location":"user-guide/tutorials/#edition","text":"In this video, we are explaining how to edit metadata with the administration project : Contacts Links Metadata HTML templates Themes PostgreSQL views for orphan tables or orphan metadata sheets","title":"Edition"},{"location":"user-guide/tutorials/#search-in-the-catalog-from-qgis","text":"In this video, we are explaining how to re-use the metadata in QGIS Desktop : Without the PgMetadata plugin with the QGIS data source manager With the plugin using the locator bar Exporting a single layer metadata as PDF, HTML or PDF Exporting the whole catalog","title":"Search in the catalog from QGIS"},{"location":"user-guide/tutorials/#publish-metadata-on-the-web","text":"In this video, we are explaining how to re-use the metadata outside of QGIS Desktop : With PgMetadata module for Lizmap Write your own wrapper to extract DCAT information","title":"Publish metadata on the web"}]}